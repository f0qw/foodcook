# FoodCook 快速使用指南

## 🚀 5分钟快速开始

### 1. 一键启动
```bash
# 克隆项目
git clone <repository-url>
cd foodcook

# 初始化数据库
make init-db

# 方式一：使用启动脚本
./start.sh

# 方式二：使用Makefile
make start
```

### 2. 访问应用
- 前端地址: http://localhost:3000
- 后端API: http://localhost:8080

### 3. 登录系统
- **Root用户**: 用户名 `root`，密码 `root123`
- **普通用户**: 点击注册按钮创建新账户

## 📱 功能使用

### 首页功能
1. **浏览菜品**: 查看所有可用菜品
2. **加入购物车**: 点击菜品卡片上的购物车图标
3. **查看购物车**: 右上角购物车图标显示已选菜品
4. **创建用餐记录**: 从购物车批量创建用餐记录

### 菜品管理 (Root用户)
1. **添加菜品**: 点击"添加菜品"按钮
2. **编辑菜品**: 点击菜品卡片上的编辑图标
3. **删除菜品**: 点击菜品卡片上的删除图标
4. **管理食材**: 在菜品编辑页面添加/删除食材

### 食材管理 (Root用户)
1. **添加食材**: 点击"添加食材"按钮
2. **编辑食材**: 点击食材列表中的编辑按钮
3. **删除食材**: 点击食材列表中的删除按钮

### 用餐记录
1. **查看记录**: 瀑布流展示所有用餐记录
2. **创建记录**: 从首页购物车或直接选择菜品
3. **编辑记录**: 点击记录卡片编辑感想和图片
4. **删除记录**: 点击记录卡片上的删除按钮

## 🔐 权限说明

### Root用户权限
- ✅ 管理菜品（增删改查）
- ✅ 管理食材（增删改查）
- ✅ 查看所有用餐记录
- ✅ 创建用餐记录

### 普通用户权限
- ✅ 查看菜品列表
- ✅ 创建用餐记录
- ✅ 查看自己的用餐记录
- ❌ 无法管理菜品和食材

## 🛠️ 常见操作

### 添加新菜品
1. 以Root用户登录
2. 进入菜品管理页面
3. 点击"添加菜品"
4. 填写菜品信息
5. 选择关联食材
6. 保存菜品

### 创建用餐记录
1. 在首页选择菜品加入购物车
2. 点击购物车图标
3. 确认菜品和数量
4. 填写用餐感想（可选）
5. 添加图片链接（可选）
6. 创建记录

### 管理食材关联
1. 编辑菜品
2. 在食材选择区域添加/删除食材
3. 设置食材用量
4. 保存菜品

## 🔧 开发命令

### 数据库操作
```bash
# 初始化数据库（包含示例数据）
make init-db
```

### 服务管理
```bash
# 启动所有服务
make start

# 仅启动后端
make start-backend

# 仅启动前端
make start-frontend

# 检查服务状态
make status
```

### 开发工具
```bash
# 后端开发
make run              # 启动后端服务
make build            # 构建后端
make test             # 运行测试
make fmt              # 格式化代码
make deps             # 安装依赖

# 前端开发
cd web
npm run dev           # 启动开发服务器
npm run build         # 构建生产版本
```

## 🔧 故障排除

### 服务启动失败
```bash
# 检查服务状态
make status

# 手动启动MySQL
brew services start mysql

# 手动启动Redis
brew services start redis
```

### 数据库连接失败
```bash
# 检查数据库配置
cat configs/config.yaml

# 重新初始化数据库
make init-db
```

### 前端页面无法访问
```bash
# 检查前端服务
cd web
npm run dev

# 检查端口占用
lsof -i :3000
```

## 📊 初始数据

数据库初始化后会包含以下示例数据：
- **8个菜品分类**: 川菜、粤菜、湘菜、鲁菜、苏菜、浙菜、闽菜、徽菜
- **18种食材**: 猪肉、牛肉、鸡肉、鸡蛋、土豆、胡萝卜等
- **8道菜品**: 麻婆豆腐、宫保鸡丁、白切鸡、红烧肉等
- **2条用餐记录**: 包含菜品关联的示例记录
- **1个Root用户**: 用户名 `root`，密码 `root123`

## 📞 技术支持

- 查看详细文档: [README.md](README.md)
- API文档: [docs/API.md](docs/API.md)
- 部署指南: [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md)
- 项目总结: [PROJECT_SUMMARY.md](PROJECT_SUMMARY.md) 